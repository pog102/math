name: Export and Deploy to GitHub Pages

on:
  push:
    branches:
      - main  # Adjust if your default branch is different

jobs:
  export:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout Repository
        uses: actions/checkout@v3

      - name: Set up Godot Export
        uses: firebelley/godot-export@v6.0.0
        with:
          version: 4.3
          export_path: "exports/web"  # Adjust based on your export settings
          export_preset: "Web"  # Ensure this matches the preset name in Godot

      - name: Deploy to GitHub Pages
        uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: exports/web  # Ensure this matches the export_path above
